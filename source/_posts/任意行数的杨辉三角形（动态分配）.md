---
title: 任意行数的杨辉三角形（动态分配）
date: 2018/4/10 21:23:08
categories: 
- C语言
tags: 
- 算法
---

### 杨辉三角形

## 金字塔型和直角三角形



![img](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D250/sign=30b20a2868d9f2d3241123ea99ed8a53/d52a2834349b033b10f3c9131fce36d3d439bdfb.jpg)

![默认状态下不启用金字塔和菱形的输出](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=877e1b34ae4bd11300cdb0306aaea488/29381f30e924b899e6ea867f6d061d950b7bf6a7.jpg)

### 代码
<!-- more -->
```bash
#include<stdio.h>
#include<stdlib.h>
int main() {
	int i,j,num;
	int **a;
	printf("请输入你想打印的杨辉三角形行数:\n");
	scanf("%d",&num);
	a=(int **)malloc(num*sizeof(int *));
	for (i = 0; i < num; ++i) { //为每列分配num个大小空间
		a[i] = (int*)malloc(sizeof(int)*num);
	}
	//书上分开打印
//	for(i=0; i<num; i++) {
//		a[i][i]=1;
//		a[i][0]=1;
//	}
//	for(i=2; i<num; i++) {
//		for(j=1; j<=i-1; j++) {
//			a[i][j]=a[i-1][j-1]+a[i-1][j];
//		}
//	}
//	for(i=0;i<num;i++){
//		for(j=0;j<=i;j++){
//			printf("%4d",a[i][j]);
//		}
//		printf("\n");
//	}
//	printf("\n");

	//优化
	for(i=0; i<num; i++) {
		for(j=0; j<=i; j++) {
//			if(i==0||j==0||j==i) {
//				a[i][j]=1;
//			} else {
//				a[i][j]=a[i-1][j-1]+a[i-1][j];
//			}
			printf("%4d",(a[i][j])=(i==0||j==0||j==i)?1:a[i-1][j-1]+a[i-1][j]);
		}
		printf("\n");
	}
//	for(i=0; i<num; i++) {
//		for(j=0; j<=i; j++) {
//			printf("%4d",a[i][j]);
//		}
//		printf("\n");
//	}
	for (i = 0; i < num; i++) {
		free(a[i]);
	}
	free(a);
	printf("\n");
	return 0;
}
```

